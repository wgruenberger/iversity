<!DOCTYPE html >
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de" lang="de">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="title" content="Werner erster Tetris Versuch" />
    <meta name="robots" content="noindex,nofollow" />

    <style type="text/css">
      html {
              font: 13px/140% "Helvetica Neue", "HelveticaNeue", Helvetica, Arial, Verdana, sans-serif;
              color: #264669;
            }     
      canvas {
        border: 1px solid #000;
        margin: 20px;
      }
    </style>
    
    <script type="text/javascript">

    function draw(ctx, c, y) {
    	ctx.clearRect(0, 0, c.width, c.height);
    	width = 10;
   		shapeI(ctx, c, 100, y, width, 1);
   		if (y + 2*width < c.height)
     		setTimeout(function () {draw(ctx, c, y + 1)}, 10);
      else
        ctx.is_playing = false;
    }
    
    function shapeI(ctx, c, x, y, width, pos) {
    	ctx.fillStyle = "#00aaaa";
    	for (var i = -1; i <= 2; i += 1){
    		if (pos % 2 == 0)
    			ctx.fillRect(x + (i * width), y, width, width);
    		else
    			ctx.fillRect(x, y + (i * width), width, width);
    		
    	}
    }
    
    function shapeSquare(ctx, c, x, y, width, pos) {
      ctx.fillStyle = "#aa0000";
    	ctx.fillRect(x, y, width, width);
      ctx.fillRect(x - width, y, width, width);
      ctx.fillRect(x, y - width, width, width);
      ctx.fillRect(x - width, y - width, width, width);
    }
    
    function shapeLeftL(ctx, c, x, y, width, pos) {
      ctx.fillStyle = "#00aa00";
    	if (pos == 0)
        ctx.fillRect(x + width, y + width, width, width);
      else if (pos == 1)
        ctx.fillRect(x + width, y - width, width, width);
      else if (pos == 2)
        ctx.fillRect(x - width, y - width, width, width);
      else if (pos == 3)
          ctx.fillRect(x - width, y + width, width, width);

    	for (var i = -1; i <= 1; i++){
        if (pos % 2 == 0)
        	ctx.fillRect(x + (i * width), y, width, width);
        else
          ctx.fillRect(x, y + (i * width), width, width);       
      }
    }
    
    function shapeRightL(ctx, c, x, y, width, pos) {
      ctx.fillStyle = "#0000aa";
    	if (pos == 0)
        ctx.fillRect(x - width, y + width, width, width);
      else if (pos == 1)
        ctx.fillRect(x - width, y - width, width, width);
      else if (pos == 2)
        ctx.fillRect(x + width, y - width, width, width);
      else if (pos == 3)
        ctx.fillRect(x + width, y - width, width, width);

      for (var i = -1; i <= 1; i++){
        if (pos % 2 == 0)
          ctx.fillRect(x + (i * width), y, width, width);
        else
          ctx.fillRect(x, y + (i * width), width, width);       
      }  
   }
    
     function shapeT(ctx, c, x, y, width, pos) {
       ctx.fillStyle = "#aa00aa";
       if (pos == 0)
         ctx.fillRect(x, y + width, width, width);
       else if (pos == 1)
         ctx.fillRect(x - width, y, width, width);
       else if (pos == 2)
         ctx.fillRect(x, y - width, width, width);
       else if (pos == 3)
         ctx.fillRect(x + width, y, width, width);

       for (var i = -1; i <= 1; i++){
         if (pos % 2 == 0)
           ctx.fillRect(x + (i * width), y, width, width);
         else
           ctx.fillRect(x, y + (i * width), width, width);       
       }      
    }
    
    </script>

    <title>Werner's privates online Tetris, nicht zum Ã¶ffentlichen Gebrauch!</title>
  </head>

  <body>
    <h1>Hi und willkommen auf meiner Seite!</h1>
    <p>Mal sehen, wie weit ich meinen Tetris-Klon voranbringen kann.</p>
    <canvas id="tetris" width="200" height="400"></canvas>
    <button onclick="start()">Restart</button>
    <script type="text/javascript">
    var c = document.getElementById("tetris");
    var ctx = c.getContext("2d");
    ctx.is_playing = false;
    function start () {
      if (ctx.is_playing)
        return;
      else
      {
        ctx.is_playing = true;
        draw(ctx, c, 0);
      }
    }
    start();
    </script>
  </body>
</html>